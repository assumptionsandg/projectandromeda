<!DOCTYPE html>
<html>
<meta charset="UTF-8">
<link rel='stylesheet' type='text/css' href='indexstyle.css'>

<title>Project Andromeda</title>

<body style='margin: 0px; background-color: #000000; overflow: hidden;'>    
    <h1>Welcome to Project Andromeda</h1>
    <div id='tutorials'>
        <p>Tutorials</p>
    </div>
    <div id='freesim'>
        <p>The Free Simulator</p>
    </div>
    <div id='database'>
        <p>Database</p>
    </div>

    <script src='/three.min.js'></script>
    <script src='/threex.planets.js'></script>
    <script src='/threex.atmospherematerial.js'></script>
    <script src='/socket.io.js'></script>
    <script src='/simulator.js'></script>
    <script>
        let indexlogin=1
        let simStart = new Andromeda()
        simStart.addtoPage()
        simStart.add(new starField())
        simStart.add(new Star(10,0,0,0,0,0,0,0))
        simStart.add(new Atmosphere('Atmosphere',0,1/2,0,1,'orange',0,2.01,0,0,0,0,0,0))
        simStart.camera.position.x=1
        //simStart.camera.position.z=-5
        allupdate.push(function(){
            if(simStart.camera.position.x<25){
                simStart.camera.position.x+=0.1
                
            }
            simStart.camera.lookAt(0,0,0)

        })
        
        simStart.add(new Earth('Earth',1,1/4,1,10,1,-5,1,1,0.001,0.001,0.03))
        simStart.add(new EarthCloud('Earth',2,1/4,1,1,1,-5,1,1,0.001,0.001,0.03))
        simStart.add(new Atmosphere('Earth',3,1/4,0,1,'blue',1,1.05,-5,1,1,0.001,0.001,0.03))
        simStart.add(new Mars('Mars',4,1/4,1,10,1,5,-1,-1,-0.001,-0.001,-0.03))
        simStart.add(new Jupiter('Jupiter',5,1/4,1,10,1,0,5,-1,0.001,0.001,0.03))

        //simStart.add(new Earth(10,1,1/4,1,10,-5,1,1,0.001,0.001,0.03))
        simStart.add(new Mars(10,5,-1,-1,-0.001,-0.001,-0.03))
        simStart.add(new Jupiter(10,0,5,-1,0.001,0.001,0.03))

        let signedToken = sessionStorage.getItem('JWT')

        let socket = io('http://localhost:8080',{
            'query':'token='+signedToken
        })

        socket.on('signInResponse',function(data){
            if(data.success){
                //signDiv.style.display = 'none';
                //gameDiv.style.display = 'inline-block';
                //location.href = 'index.html'
                console.log('logged into index')
            } else
                alert("Authentication unsuccessful.");
        });

    </script>
</body>
</html>